<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<meta name="format-detection" content="telephone=no, email=no" />
		<meta name="renderer" content="webkit">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<title>我的任务</title>
		<link rel="stylesheet" href="./css/app.css?v1.1">

	</head>

	<body ontouchstart="">
		<div class="absPage" id="sharePage">

			<h1 class="font24">111111111111111111111</h1>
			<div class="share">
				<div class="picBox" style="">
					<!--原div-->
					<div class="panelBg capture" id="capture" style="background-image: url(img/shareBg.png);position: relative;">
						<div class="footer">
							<div class="qrbox"></div>
							<img src="img/qrcode.png" class="qrcode" />
							<p class="tips font30">长按免费领取480分钟通话时长</p>
						</div>
					</div>
					<!--图片显示区-->
					<div class="viewer" id="viewer" style="">
						<img id="shot1">
					</div>
				</div>
			</div>
			<h1 class="font24">2222222222222222222</h1>
			<div class="share22">
				<div class="picBox" style="">
					<!--原div-->
					<div class="panelBg capture" id="capture" style="background-image: url(img/shareBg.png);position: relative;">
						<div class="footer">
							<div class="qrbox"></div>
							<img src="img/qrcode.png" class="qrcode" />
							<p class="tips font30">长按免费领取480分钟通话时长</p>
						</div>
					</div>
					<!--图片显示区-->
					<div class="viewer" id="viewer" style="">
						<img id="shot2">
					</div>
				</div>
			</div>
			<h1 class="font24">3333333333333333333333333</h1>
			<div class="share33">
				<div class="picBox" style="">
					<!--原div-->
					<div class="panelBg capture" id="capture" style="background-image: url(img/shareBg.png);position: relative;">
						<div class="footer">
							<div class="qrbox"></div>
							<img src="img/qrcode.png" class="qrcode" />
							<p class="tips font30">长按免费领取480分钟通话时长</p>
						</div>
					</div>
					<!--图片显示区-->
					<div class="viewer" id="viewer" style="">
						<img id="shot3">
					</div>
				</div>
			</div>
			<h1 class="font24">444444444444444444444</h1>
			<div class="share44 hidden">
				<div class="picBox" style="">
					<!--原div-->
					<div class="panelBg capture" id="capture" style="background-image: url(img/shareBg.png);position: relative;">
						<div class="footer">
							<div class="qrbox"></div>
							<img src="img/qrcode.png" class="qrcode" />
							<p class="tips font30">长按免费领取480分钟通话时长</p>
						</div>
					</div>
					<!--图片显示区-->
					<div class="viewer" id="viewer" style="">
						<img id="shot4">
					</div>
				</div>
			</div>

			<!--<div class="myTask">

				<div class="picBox">
					<div class="panelBg capture" id="capture">
						<div class="head" style="background-image: url(img/user_head.png);"></div>
						<div class="name font30">嗨~我是XXX</div>
						<div class="welcome font24">我已成为广州电信“带盐人”，给你送话费啦~</div>

						<img class="qrcode" src="img/qrcode.png"></img>

						<div class="qr_title font30">2元话费&nbsp;扫码<span>免费</span>领取</div>

						<div class="qr_subTitle font20">二维码有效期：2018-05-30</div>
					</div>
					<div class="viewer" id="viewer">
						<img id="shot2"></img>
						<div class="tips font30">长按可保存图片</div>
					</div>
				</div>
			</div>
			<div class="tipsBox hidden">
				<p class="tips font30">长按可保存二维码图片</p>
				<div class="shareBtn font36" id="shareBtn">告诉好友</div>
			</div>-->
		</div>

		<script src="js/flexible.js"></script>
		<script src="js/jquery-2.1.4.min.js"></script>
		<script src="js/html2canvas.min.js"></script>
		<script src="js/vConsole.min.js"></script>
		<script>
			$(function() {
				$("#shareBtn").click(function() {
					$("#dialog_share").removeClass('moveOut').addClass('moveIn');
				});

				//关闭
				$("#dialog_share").click(function() {
					$(this).removeClass('moveIn').addClass('moveOut');

					$(".picBox").css('opacity', 1);
				});

				//生成图片(须在数据都加载完才执行)
				html2canvas(document.querySelector(".share .capture")).then(canvas => {
					$("#shot1").attr("src", canvas.toDataURL());
					//						console.log(canvas.toDataURL());
					console.log(canvas.toDataURL().length);
					console.log("11 完成")
				}, {
					'useCORS': true,
				});
				//生成图片(须在数据都加载完才执行)
				html2canvas(document.querySelector(".share22 .capture")).then(canvas => {
					$("#shot2").attr("src", canvas.toDataURL());
					//						console.log(canvas.toDataURL());
					console.log(canvas.toDataURL().length);
					console.log("22 完成")
				}, {
					'useCORS': true,
				});

				//生成图片(须在数据都加载完才执行)
				html2canvas(document.querySelector(".share33 .capture")).then(canvas => {
					$("#shot3").attr("src", canvas.toDataURL());
					//						console.log(canvas.toDataURL());
					console.log(canvas.toDataURL().length);
					console.log("33 完成")
				}, {
					'useCORS': true,
				});
				//生成图片(须在数据都加载完才执行)
//				html2canvas(document.querySelector(".share44 .capture")).then(canvas => {
//					$("#shot4").attr("src", canvas.toDataURL());
//					//						console.log(canvas.toDataURL());
//					console.log(canvas.toDataURL().length);
//					console.log("44 完成")
//				}, {
//					'useCORS': true,
//				});

			});
		</script>
	</body>

</html>